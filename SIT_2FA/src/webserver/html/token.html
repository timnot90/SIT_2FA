<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>

  <title>Token</title>
</head>

<body>

	<div id="content">
		<form id="tokenForm" action="http://localhost:8000/Token" method="post">
		
			<label for="username">Username:</label><br/>
			<input type="text" id="username" name="username"/><br/>
			
			<label for="secret">Secret:</label><br/>
			<input type="password" id="secret" name="secret"/><br/>
			
			<label for="second">Second Number:</label><br/>
			<input type="password" id="second" name="second"/><br/>
			
			<button type="submit">Submit</button>
			
		</form>
		<script>
			// Attach a submit handler to the form
			$( "#tokenForm" ).submit(function( event ) {
			 
				// Stop form from submitting normally
				event.preventDefault();
				 
				// Get some values from elements on the page:
				var $form = $( this ),
					username = $form.find( "input[name='username']" ).val(),
					secret = $form.find( "input[name='secret']" ).val(),
					second = $form.find( "input[name='second']" ).val(),
					url = $form.attr( "action" );
				 
				var token = +secret + +second;
				 
				// Send the data using post
				var posting = $.post( url, { username: username, token: token } );
				 
				// Put the results in a div
				posting.done(function( data ) {
					$( "#content" ).empty().append( data );
				  });
			});
		</script>
	</div>
	
</body>